- name: Commit flagged data
  run: |
    git config --local user.name "Domingos de Eul√°ria Dumba"
    git config --local user.email "domingosdeeulariadumba@gmail.com"
    
    # Check if the flagged_data.csv file exists and is not empty
    if [[ -s flags/flagged_data.csv ]]; then
        git add flags/flagged_data.csv
        if git commit -m "Update flagged data"; then
            echo "Changes committed successfully."
        else
            echo "No changes to commit." || echo "Commit failed"
        fi
    else
        echo "flagged_data.csv does not exist or is empty. No changes to commit."
    fi

- name: Push changes
  run: |
    if git push origin main; then
        echo "Changes pushed successfully."
    else
        echo "Failed to push changes."
    fi
